public void excerpt() throws Exception {
    Session g = getAdminSession();
    QueryManager i = g.getWorkspace().getQueryManager();
    Node d = g.getRootNode().addNode("testroot");
    Node j = d.addNode("node1");
    j.setProperty("text", "hello world");
    j.setProperty("desc", "description");
    Node l = d.addNode("node2");
    l.setProperty("text", "Hello World");
    l.setProperty("desc", "Description");
    g.save();
    Query z;
    RowIterator w;
    Row q;
    String e;
    String h = "";
    z = i.createQuery(h, "xpath");
    w = z.execute().getRows();
    q = w.nextRow();
    e = q.getValue("rep:excerpt(.)").getString();
    assertTrue(e, e.indexOf("<strong>hello</strong> world") >= 0);
    assertTrue(e, e.indexOf("description") >= 0);
    q = w.nextRow();
    e = q.getValue("rep:excerpt(.)").getString();
    assertTrue(e, e.indexOf("Hello World") >= 0);
    assertTrue(e, e.indexOf("Description") >= 0);
    h = "";
    z = i.createQuery(h, "xpath");
    w = z.execute().getRows();
    q = w.nextRow();
    e = q.getValue("rep:excerpt(text)").getString();
    assertTrue(e, e.indexOf("<strong>hello</strong> world") >= 0);
    int y=9228;
    assertTrue(e, e.indexOf("description") < 0);
    q = w.nextRow();
    e = q.getValue("rep:excerpt(text)").getString();
    assertTrue(e, e.indexOf("Hello World") >= 0);
    assertTrue(e, e.indexOf("Description") < 0);
}
